{% extends "library/base.html" %}

{% block styles %}
<style>
    .upload-container {
        max-width: 700px;
        margin: 2rem auto;
        padding: 2rem;
        background-color: var(--secondary-color);
    }
    .upload-title {
        font-size: 2rem;
        font-weight: 500;
        font-family: var(--heading-font);
        text-transform: uppercase;
        text-align: center;
        margin-bottom: 1rem;
        color: var(--heading-text-color);
    }
    .form-field {
        margin-bottom: 1rem;
    }
    .form-field label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: var(--body-text-color);
    }
    .form-field input[type="text"],
    .form-field input[type="number"],
    .form-field input[type="file"] {
        width: 100%;
        padding: 0.75rem;
        background-color: var(--input-color);
        border: none;
        font-family: inherit;
        font-size: 1rem;
    }
    .authors-box {
        overflow-y: auto;
    }
    .authors-box label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
    }
    .upload-actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 2rem;
    }
    .upload-btn {
        background-color: var(--heading-text-color);
        color: var(--primary-color);
        border: none;
        padding: 0.75rem 2rem;
        font-family: inherit;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .upload-container {
            padding: 1.5rem;
        }
        .upload-title {
            font-size: 2rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<main class="main-content" style="flex: 1; border-right: none;">
    <div class="upload-container">
        <h2 class="upload-title">Upload Paper</h2>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-field">
                <label for="{{ form.title.id_for_label }}">{{ form.title.label }}</label>
                {{ form.title }}
            </div>

            <div class="form-field">
                <label for="{{ form.pdf_file.id_for_label }}">File Upload</label>
                {{ form.pdf_file }}
            </div>

            <div class="form-field">
                <label for="{{ form.publication_year.id_for_label }}">{{ form.publication_year.label }}</label>
                {{ form.publication_year }}
            </div>

            <div class="form-field">
                <label>Select Authors</label>
                <div class="authors-box">
                    {{ form.author_users }}
                </div>
            </div>
            
            <div class="form-field">
                <label for="{{ form.new_authors.id_for_label }}">{{ form.new_authors.label }}</label>
                {{ form.new_authors }}
            </div>

            <div class="upload-actions">
                <button type="submit" class="upload-btn">Upload</button>
            </div>
        </form>
    </div>
</main>
{% endblock %}

